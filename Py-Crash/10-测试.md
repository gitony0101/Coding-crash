# 测试

**编写函数或类时**,还可为其编写测试。

通过测试,可确定代码面对各种输入都能够按要求的那样工作。

测试让你深信,即便有更多人使用你的程序,它也能正确地工作。

在程序中添加新代码时,也可以对其进行测试, 确认不会破坏程序既有的行为。

程序员都会犯错,因此每个程序员都必须经常测试其代码,在用户发现问题前找出它们。

本章学习 unittest 中的工具来测试代码,还将学习编写测试用例,核实一系列输入都将得到预期的输出。

我们将看到测试通过了是什么样子,测试未通过又是什么样子,还将知道测试未通过如何有助于改进代码。

同时学习如何测试函数和类,并将知道该为项目编写多少个测试

## 1. 测试函数

先定义测试代码：

```python
def get_formatted_name(first,last):
    """生成整洁的姓名。"""
    full_name = f"{first} {last}"
    return full_name.title()

print("ENter 'q' at any time to quit.")
while True:
    first = input("Enter your first name: ")
    if first == 'q':
        break
    last = input("Enter your last name: ")
    if last == 'q':
        break

    formatted_name = get_formatted_name(first,last)
    print(f"\nHello, {formatted_name}!")
```

### 1.1. 单元测试和测试用例

Python 标准库中的模块 unittest 提供了代码测试工具。

- 单元测试：用于核实函数的某个方面没有问题。

- 测试用例：是一组单元测试,它们一道核实函数在各种情形下的行为都符合要求。

良好的测试用例考虑到了函数可能收到的各种输入,包含针对所有这些情形的测试。全覆盖的测试用例包含一整套单元测试,涵盖了各种可能的函数使用方式。对于大型项目,要进行全覆盖测试可能很难。通常,最初只要针对代码的重要行为编写测试即可,等项目被广泛使用时再考虑全覆盖。

下面的测试用例只包含一个方法,它检查函数 get_formatted_name() 在给定名和姓时能否正确工作
